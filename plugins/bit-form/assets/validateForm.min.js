var validateForm=function(){"use strict";let e,t,i={},n=[];const r=t=>window?.bf_globals?.[e].inits?.[t],o=e=>{const n=e.replace(/\[\d*\]/g,"");if(i[n])return i[n];const r=Object.entries(t);for(let e=0;e<r.length;e+=1){const[t,o]=r[e];if(o?.fieldName===n)return i[n]=t,t}return""},l=()=>{const n=new FormData(bfSelect(`#form-${e}`)),r={},l=Array.from(n.entries());return i={},l.forEach((([e,i])=>{const n=o(e),l=e.replace("[]","");n in t&&(r[l]?(Array.isArray(r[l])||(r[l]=[r[l]]),r[l].push(i)):r[l]=i)})),r},d=(t,i,r,o="")=>{const l=bfSelect(`#form-${e} ${o} .${i}-err-wrp`),d=bfSelect(`.${i}-err-txt`,l),a=bfSelect(`.${i}-err-msg`,l);let s=!1;try{s="grid"===getComputedStyle(l).display,s&&(l.style.removeProperty("opacity"),l.style.removeProperty("height"),a.style.removeProperty("display"))}catch(e){s=!1}d&&"err"in(r||{})&&(t&&r?.err?.[t]?.show?(d.innerHTML=r.err[t].custom?r.err[t].msg:r.err[t].dflt,s?setStyleProperty(l,"grid-template-rows","1fr"):setTimeout((()=>{a.style.removeProperty("display"),setStyleProperty(l,"height",`${d.offsetHeight}px`),setStyleProperty(l,"opacity",1)}),100),n.push(i)):(d.innerHTML="",s?setStyleProperty(l,"grid-template-rows","0fr"):(setStyleProperty(l,"height",0),setStyleProperty(l,"opacity",0),setStyleProperty(a,"display","none"))))};return function({form:i,input:a},{step:s}={}){i?e=i:a?.form?.id&&([,e]=a.form.id.split("form-"));const f=window?.bf_globals?.[e];if(void 0===f)return!1;let c={};n=[];const p=f.configs.bf_separator;if(s){let e=f.layout[s-1];if(!e)return!1;e=e?.layout||e;const i=e.lg.map((e=>e.i)),n=f.nestedLayout||{};Object.entries(n).forEach((([e,t])=>{if(i.includes(e)){const e=t.lg.map((e=>e.i));i.push(...e)}})),t=i.reduce(((e,t)=>({...e,[t]:f.fields[t]})),{})}else t=f.fields;const{modifiedFields:u}=f;if(u&&Object.assign(t,u),i)c=l();else if(a){if(!f.validateFocusLost)return!0;const e=o(a.name);c=l(),t={[e]:t[e]}}let y=!0;const m=Object.entries(t);let{length:h}=m;for(;h--;){const[t,i]=m[h];let n=[""];if("undefined"!=typeof checkRepeatedField){const e=checkRepeatedField(t,f);n=getRepeatedIndexes(e,f,a)}for(let o=0;o<n.length;o+=1){const l=n[o],a=l?`${i.fieldName}[${l}]`:i.fieldName,s=l?`.rpt-index-${l}`:"",f=i.typ,u="string"==typeof c[a]?c[a].trim():c[a];if(bfSelect(`#form-${e} ${s} .${t}.fld-hide`)){d("",t,i,s);continue}let m="";"check"===f&&(m="undefined"!=typeof checkFldValidation?checkFldValidation(u,i):""),"check"!==f&&"radio"!==f||m||"undefined"==typeof customOptionValidation||(m=customOptionValidation(e,t,i)),u||m||(m="undefined"!=typeof requiredFldValidation?requiredFldValidation(i):null),d(m,t,i,s),m?y=!1:u&&("number"===f&&"undefined"!=typeof nmbrFldValidation?m=nmbrFldValidation(u,i):"email"===f&&"undefined"!=typeof emailFldValidation?m=emailFldValidation(u,i):"url"===f&&"undefined"!=typeof urlFldValidation?m=urlFldValidation(u,i):"decision-box"===f&&"undefined"!=typeof dcsnbxFldValidation?m=dcsnbxFldValidation(u,i):"check"!==f&&"select"!==f||"undefined"==typeof checkMinMaxOptions?"file-up"===f&&"undefined"!=typeof fileupFldValidation?m=fileupFldValidation(u,i):"advanced-file-up"===f&&"undefined"!=typeof advanceFileUpFldValidation?m=advanceFileUpFldValidation(r(t),i):"phone-number"===f&&"undefined"!=typeof phoneNumberFldValidation&&(m=phoneNumberFldValidation(r(t),i)):m=checkMinMaxOptions(u,i,p),i?.valid?.regexr&&!m&&(m="undefined"!=typeof regexPatternValidation?regexPatternValidation(u,i):null),d(m,t,i,s),m&&(y=!1))}}return moveToFirstErrFld(f,n),y}}();
