var xs=Object.defineProperty,js=Object.defineProperties;var gs=Object.getOwnPropertyDescriptors;var Ue=Object.getOwnPropertySymbols;var ms=Object.prototype.hasOwnProperty,vs=Object.prototype.propertyIsEnumerable;var Re=(s,a,r)=>a in s?xs(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r,k=(s,a)=>{for(var r in a||(a={}))ms.call(a,r)&&Re(s,r,a[r]);if(Ue)for(var r of Ue(a))vs.call(a,r)&&Re(s,r,a[r]);return s},ce=(s,a)=>js(s,gs(a));import{u as K,r as P,d as be,_ as Y,j as e,S as pe,$ as se,dr as Z,ds as ps,dt as Ns,cW as he,L as ve,a as ue,o as _e,h as de,b as qe,a2 as Te,I as Le,e as ze,al as ys,m as ws,c as we,q as A,aY as Se,bX as Ss,ca as ks,aD as Xe,i as $s,l as te,B as De,E as Cs,O as _s,w as Ts,ci as Ls,M as Ps}from"./main-281.js";import{a as Ye,G as me,T as ke}from"./bf-675-103.js";import{P as Bs}from"./bf-770-69.js";import{B as Es}from"./bf-751-65.js";import{C as oe}from"./bf-845-71.js";import{u as As}from"./bf-607-113.js";import{C as Vs}from"./bf-231-105.js";import{S as Fs,a as Is,D as Us,b as Ge}from"./bf-406-106.js";import{E as Rs}from"./bf-869-79.js";import{N as zs}from"./bf-657-140.js";import{P as He}from"./bf-310-72.js";import{T as le}from"./bf-646-73.js";import{C as Ds}from"./bf-23-74.js";import{S as Gs}from"./bf-811-102.js";const Q=s=>{const a=s.current;return s.current+=1,a},$e=(s,a)=>{const r=[];let n=1;return s.forEach(o=>{o.type==="group"?(r.push(ce(k({},o),{id:Q(a),groupLbl:o.title,type:`group-${n}-start`})),o.childs.map(j=>{r.push(k({id:Q(a)},j))}),r.push({id:Q(a),type:`group-${n}-end`}),n+=1):r.push(k({id:Q(a)},o))}),r},Ce=(s,a)=>{const r=[];for(let n=0;n<s.length;n+=1)if("type"in s[n]&&s[n].type.includes("start")){const o=s[n].type.split("-")[1],{groupLbl:j,disabled:x}=s[n],g=[];for(let m=n+1;m<s.length;m+=1)if("type"in s[m]&&s[m].type===`group-${o}-end`){n=m;break}else{const y=k({},s[m]);delete y.id,g.push(y)}g.length&&r.push({title:j,type:"group",childs:g,disabled:x})}else{const o=k({},s[n]);delete o.id,r.push(o)}return r.length?r:[{[a]:"Option 1"},{[a]:"Option 2"},{[a]:"Option 3"}]},Qe=(s,a,r,n)=>{let o="";return s.map(j=>{j.type==="group"?(o+=`group-start:${j.title}\r
`,j.childs.map(x=>{n&&x[n]&&(o+=`[${x[n]}]; `),o+=`${x[a]}${x[r]?`:${x[r]}`:""}\r
`}),o+=`group-end:${j.title}\r
`):(n&&j[n]&&(o+=`[${j[n]}]; `),o+=`${j[a]}${j[r]?`:${j[r]}`:""}\r
`)}),o},Hs=(s,a,r,n)=>{const o=s.split(/\r?\n/),j=[];let x=1,g=1;return o.forEach(m=>{if(m.includes("group-start")){if(g===1&&!s.includes("group-end:"))return;const[,y]=m.split("group-start:");j.push({id:x,type:`group-${g}-start`,groupLbl:y}),x+=1}else if(m.includes("group-end"))j.push({id:x,type:`group-${g}-end`}),x+=1,g+=1;else if(m){const[y,C]=m.split(":");j.push({id:x,[r]:y,[n]:C}),x+=1}}),a.current=x,j},Js=(s,a,r)=>{const n=m=>m?typeof m=="string"?m.trim():m.toString().trim():"",{options:o,lbl:j,vlu:x}=s;return!o||!j||!x?[]:o.map(m=>({[a]:n(m[j]),[r]:n(m[x])}))};function Ms({importOpts:s,setImportOpts:a}){var g,m,y;const r=K(se),n=typeof r!="undefined"&&r.isPro,[o,j]=P.useState({show:!1});P.useEffect(()=>{if(!n)return;const C=new URL(r.ajaxURL);C.searchParams.append("action","bitforms_get_acf_group_fields"),C.searchParams.append("_ajax_nonce",r.nonce);const f=fetch(C).then(c=>c.json()).then(c=>{var i;if(c.data){const t=c.data,v=k({},s);if(localStorage.setItem("bf-options-acf_field_op",JSON.stringify(t)),v.groups=c.data,v.lbl=1,v.vlu=0,(v==null?void 0:v.fieldObject)===null)v.fieldObject={fieldType:"acf_options",filter:{fieldkey:""},type:"acf",oldOpt:[]};else{const{fieldObject:$}=k({},v),{fieldkey:N}=k({},$==null?void 0:$.filter),_=(i=v.groups)==null?void 0:i.find(w=>(w==null?void 0:w.key)===N);v.options=Object.entries(_==null?void 0:_.choices),v.keys=Object.keys(v.options),v.vlu=v==null?void 0:v.keys[v==null?void 0:v.vlu],v.lbl=v==null?void 0:v.keys[v==null?void 0:v.lbl]}return a(k({},v)),"Successfully fetched ACF fields options."}return"ACF fields options not found"});be.promise(f,{success:c=>c,failed:c=>c,loading:Y("Loading ACF fields...")})},[]);const x=C=>{var N,_,w;const{name:f,value:c}=C.target,i=k({},s);i.fieldObject.filter[f]=c;const t=localStorage.getItem("bf-options-acf_field_op"),v=(_=(N=i.fieldObject)==null?void 0:N.filter)==null?void 0:_.fieldkey,$=(w=JSON.parse(t))==null?void 0:w.find(d=>(d==null?void 0:d.key)===v);i.options=Object.entries($==null?void 0:$.choices),i.keys=Object.keys(i.options),i.vlu=i==null?void 0:i.keys[i==null?void 0:i.vlu],i.lbl=i==null?void 0:i.keys[i==null?void 0:i.lbl],a(k({},i))};return e.jsxs("div",{className:"mt-2",children:[e.jsx(pe,{snack:o,setSnackbar:j}),e.jsx("div",{children:e.jsx("div",{children:!!(s!=null&&s.groups)&&e.jsx("div",{className:"flx mt-3 w-10",children:e.jsxs("div",{className:"w-10 mr-2",children:[e.jsx("b",{children:"ACF Options Field"}),e.jsxs("select",{"data-testid":"imprt-optns-acf-slct",name:"fieldkey",onChange:x,value:((m=(g=s==null?void 0:s.fieldObject)==null?void 0:g.filter)==null?void 0:m.fieldkey)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"",children:"select option"}),(y=s==null?void 0:s.groups)==null?void 0:y.map((C,f)=>e.jsx("option",{value:C.key,children:`${C.group_title}-${C.name}`},`imp-${f*2}`))]})]})})})})]})}const X=s=>s?typeof s=="string"?s.trim():s.toString().trim():"",Ze=s=>s==="comma"?",":s==="space"?/[ ]+/:/\r?\n/,Ws=typeof bits!="undefined"&&bits.isPro,qs=(s,a,r)=>{if(!Ws)return[];const{data:n,dataTyp:o,separator:j,lbl:x,vlu:g}=s;let m=[];if(o==="txt"){const y=Ke(j,s);if(!j||y&&(!x||!g))return[];const C=Ze(j),f=x==="value"?1:0,c=g==="key"?0:1;m=n.split(C).filter(i=>X(i).length).map(i=>{const t=y?i.split(":"):i.split(),v=X(t[f]),$=X((t==null?void 0:t[c])||v);return{[a]:v,[r]:$}})}if(o==="json"){if(Z("object",n)||Z("array",n)&&n.length===1&&Z("object",n[0])){if(!x||!g)return[];const y=Z("array",n)?n[0]:n,C=x==="value"?1:0,f=g==="key"?0:1;m=Object.entries(y).map(c=>({[a]:X(c[C]),[r]:X(c[f])}))}else if(Z("array",n))if(n.length>1&&Z("object",n[0])){if(!x||!g)return[];m=n.map(y=>({[a]:X(y[x]),[r]:X(y[g])}))}else m=n.filter(y=>X(y).length>0).map(y=>({[a]:X(y),[r]:X(y)}))}if(o==="xlsx"||o==="xls"||o==="csv"||o==="tsv"){if(!x||!g)return[];m=n.map(y=>({[a]:X(y[x]),[r]:X(y[g])}))}return m},Ke=(s,a)=>{var x;let r=1;const n=Ze(s),o=((x=a==null?void 0:a.data)==null?void 0:x.split(n))||[],{length:j}=o;if(j){for(let g=0;g<(j<=10?j:10);g+=1)if(X(o[g])&&o[g].split(":").length<=1){r=0;break}}return r},Xs=(s,a,r)=>{const{data:n,preset:o,lbl:j,vlu:x}=s;return!o||!j||!x?[]:n[o].map(m=>({[a]:X(m[j]),[r]:X(m[x])}))};function Ys({importOpts:s,setImportOpts:a}){var y,C;const r=K(se),{isPro:n}=r,o=f=>{let c=k({},s);if(!n)return[];const i=f.target.files[0];if(!(i!=null&&i.name)){console.warn("file missing");return}c={show:!0,dataSrc:"fileupload"};const t=ps(i.name),v=new FileReader;t==="txt"||t==="json"||t==="csv"||t==="tsv"?v.readAsText(i):(t==="xlsx"||t==="xls")&&v.readAsArrayBuffer(i),v.onload=()=>{c.dataTyp=t;const $=v.result;if(t==="txt")c.data=$;else if(t==="json"){try{c.data=JSON.parse($)}catch(_){a(k({},c)),console.warn(_);return}const N=x(c.data);N!=null&&N.headers&&(c.headers=N.headers),N!=null&&N.lbl&&(c.lbl=N.lbl),N!=null&&N.vlu&&(c.vlu=N.vlu)}else if(t==="csv"||t==="tsv")c.data=Ns($,t==="tsv"?"	":","),c.headers=m(c.data[0]),c.headers.length&&(c=j(c.headers[0],c));else if(t==="xlsx"||t==="xls"){if(!XLSX){console.warn("sheet.js not loaded!");return}const N=new Uint8Array($),_=XLSX.read(N,{type:"array"});c.dataTyp=t;const{length:w}=_.SheetNames;w===1?(c.data=XLSX.utils.sheet_to_json(_.Sheets[_.SheetNames[0]]),c.headers=m(c.data[0]),c.headers.length&&(c=j(c.headers[0],c))):w>1&&(c.workbook=_)}a(k({},c))}},j=(f,c)=>ce(k({},c),{lbl:f,vlu:f}),x=f=>{const c=m(f[0]);if(Z("array",f)&&f.length>1&&Z("object",f[0]))return{headers:c,lbl:c[0]||"",vlu:c[0]||""};if(Z("object",f)||Z("array",f)&&f.length===1&&Z("object",f[0]))return{headers:["key","value"],lbl:"key",vlu:"value"}},g=f=>{const{name:c,value:i}=f.target,t=k({},s);t[c]=i,c==="separator"?Ke(i,t)&&(t.headers=["key","value"],t.lbl="key",t.vlu="value"):c==="sheetName"&&(delete t.lbl,delete t.vlu,i?(t.data=XLSX.utils.sheet_to_json(t.workbook.Sheets[i]),t.headers=m(t.data[0])):(delete t.headers,delete t.data)),a(k({},t))},m=f=>Z("object",f)?Object.keys(f):[];return e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Upload File (txt, json, xls, xlsx, csv, tsv)"}),e.jsx("input",{"data-testid":"fil-upld-imprt-optns-fil",type:"file",onChange:o,accept:".json,.txt,.xls,.xlsx,.csv,.tsv",className:"btcd-paper-inp mt-1"})]}),s.dataTyp==="txt"&&e.jsxs("div",{className:"mt-3",children:[e.jsx("b",{children:"Separator"}),e.jsxs("select",{"data-testid":"imprt-optns-sprtr-slct",name:"separator",className:"btcd-paper-inp mt-1",onChange:g,value:s.separator||"",children:[e.jsx("option",{value:"",children:"Select Separator"}),e.jsx("option",{value:"comma",children:"Comma"}),e.jsx("option",{value:"space",children:"Space"}),e.jsx("option",{value:"newline",children:"New Line"})]})]}),((C=(y=s==null?void 0:s.workbook)==null?void 0:y.SheetNames)==null?void 0:C.length)>1&&e.jsxs("div",{className:"mt-3",children:[e.jsx("b",{children:"Sheet Name"}),e.jsxs("select",{"data-testid":"imprt-optns-shet-slct",name:"sheetName",id:"",className:"btcd-paper-inp mt-1",onChange:g,value:s.sheetName||"",children:[e.jsx("option",{value:"",children:"Select Sheet"}),s.workbook.SheetNames.map(f=>e.jsx("option",{value:f,children:f},f))]})]}),s.headers&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Label"}),e.jsxs("select",{"data-testid":"imprt-optns-lbl-slct",name:"lbl",id:"",className:"btcd-paper-inp mt-1",onChange:g,value:s.lbl||"",children:[e.jsx("option",{value:"",children:"Select Label"}),s.headers.map(f=>e.jsx("option",{value:f,children:f},f))]})]}),e.jsxs("div",{className:"w-5 ",children:[e.jsx("b",{children:"Value"}),e.jsxs("select",{"data-testid":"imprt-optns-val-slct",name:"vlu",id:"",className:"btcd-paper-inp mt-1",onChange:g,value:s.vlu||"",children:[e.jsx("option",{value:"",children:"Select Value"}),s.headers.map(f=>e.jsx("option",{value:f,children:f},f))]})]})]})]})}const Qs=(s,a,r)=>{const{data:n,lbl:o,vlu:j}=s;return!n||!o||!j?[]:n.map(g=>({[a]:g[o].trim(),[r]:g[j].trim()}))};function Zs({importOpts:s,setImportOpts:a}){var g,m,y,C,f,c,i,t,v,$,N,_,w;const r=K(se),n=typeof r!="undefined"&&r.isPro,[o,j]=P.useState({show:!1});P.useEffect(()=>{if(!n)return;const d=new URL(r.ajaxURL);d.searchParams.append("action","bitforms_get_wp_posts"),d.searchParams.append("_ajax_nonce",r.nonce);const S=fetch(d).then(p=>p.json()).then(p=>{if(p.data){const{posts:u,postTypes:V}=p.data,b=k({},s);if(b.data=u,localStorage.setItem("bf-options-posts",JSON.stringify(u)),b.postTypes=Object.values(V),b.headers=Object.keys(b.data[0]),b.lbl=b.headers[6],b.vlu=b.headers[0],(b==null?void 0:b.fieldObject)===null)b.data=u==null?void 0:u.filter(T=>(T==null?void 0:T.post_type)==="post"),b.fieldObject={fieldType:"post_field",filter:{orderBy:"ID",order:"ASC",postType:"post",postStatus:"all"},lebel:b.lbl,value:b.vlu,hiddenValue:b==null?void 0:b.vlu,oldOpt:[],type:"post"};else{const{fieldObject:T}=k({},b),{orderBy:J,order:F,postType:z,postStatus:D}=k({},T==null?void 0:T.filter),q=he(b.data,J,F);D!=="all"?b.data=q==null?void 0:q.filter(W=>(W==null?void 0:W.post_status)===D&&(W==null?void 0:W.post_type)===z):b.data=q,b.lbl=T==null?void 0:T.lebel,b.vlu=T==null?void 0:T.hiddenValue}return a(k({},b)),"Successfully fetched wordpress posts."}return"posts not found"});be.promise(S,{success:p=>p,failed:p=>p,loading:Y("Loading Posts...")})},[]);const x=d=>{const{name:S,value:p}=d.target,u=k({},s);u[S]=p;const{fieldObject:V}=u;V.filter[S]=p;const{orderBy:b,order:T,postType:J,postStatus:F}=V.filter;let z=localStorage.getItem("bf-options-posts");z=he(JSON.parse(z),b,T),F!=="all"?u.data=z==null?void 0:z.filter(D=>(D==null?void 0:D.post_status)===F&&(D==null?void 0:D.post_type)===J):u.data=z==null?void 0:z.filter(D=>(D==null?void 0:D.post_type)===J),u.fieldObject.lebel=u==null?void 0:u.lbl,u.fieldObject.hiddenValue=u==null?void 0:u.vlu,a(k({},u))};return e.jsx("div",{className:"mt-2",children:e.jsxs("div",{children:[e.jsx(pe,{snack:o,setSnackbar:j}),e.jsxs("div",{children:[!!(s!=null&&s.data)&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Filter by Post Type"}),e.jsx("select",{"data-testid":"imprt-optns-pst-typ-slct",name:"postType",onChange:x,value:((m=(g=s.fieldObject)==null?void 0:g.filter)==null?void 0:m.postType)||"",className:"btcd-paper-inp mt-1",children:(y=s==null?void 0:s.postTypes)==null?void 0:y.map((d,S)=>e.jsx("option",{value:d.name,children:d.label},`imp-${S*2}`))})]}),e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Filter by Post Status"}),e.jsxs("select",{"data-testid":"imprt-optns-pst-stats-slct",name:"postStatus",onChange:x,value:((f=(C=s==null?void 0:s.fieldObject)==null?void 0:C.filter)==null?void 0:f.postStatus)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{disabled:!0,selected:!0,children:"select status"}),e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"publish",children:"Publish"}),e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"auto-draft",children:"Auto-Draft"}),e.jsx("option",{value:"private",children:"Private"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"trash",children:"Trash"})]})]})]}),!!((c=s==null?void 0:s.data)!=null&&c.length)&&e.jsxs("div",{children:[e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order By"}),e.jsx("select",{"data-testid":"imprt-optns-ordr-by-slct",name:"orderBy",onChange:x,value:((t=(i=s==null?void 0:s.fieldObject)==null?void 0:i.filter)==null?void 0:t.orderBy)||"",className:"btcd-paper-inp mt-1",children:(v=s==null?void 0:s.headers)==null?void 0:v.map(d=>e.jsx("option",{value:d,children:d},d))})]}),e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order"}),e.jsxs("select",{"data-testid":"imprt-optns-ordr-slct",name:"order",onChange:x,value:((N=($=s.fieldObject)==null?void 0:$.filter)==null?void 0:N.order)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"ASC",children:"Ascending"}),e.jsx("option",{value:"DESC",children:"Descending"})]})]})]}),s.headers&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Label"}),e.jsxs("select",{"data-testid":"imprt-optns-lbl-slct",name:"lbl",id:"",className:"btcd-paper-inp mt-1",onChange:x,value:((_=s==null?void 0:s.fieldObject)==null?void 0:_.lebel)||"",children:[e.jsx("option",{value:"",children:"Select Label"}),s.headers.map(d=>e.jsx("option",{value:d,children:d},d))]})]}),e.jsxs("div",{className:"w-5",children:[e.jsx("b",{children:"Value"}),e.jsxs("select",{"data-testid":"imprt-optns-val-slct",name:"vlu",id:"",className:"btcd-paper-inp mt-1",onChange:x,value:((w=s==null?void 0:s.fieldObject)==null?void 0:w.hiddenValue)||"",children:[e.jsx("option",{value:"",children:"Select Value"}),s.headers.map(d=>e.jsx("option",{value:d,children:d},d))]})]})]})]})]})]})})}function Ks({importOpts:s,setImportOpts:a}){const r=K(se),{isPro:n}=r,[o,j]=P.useState(!1),x=1.1,g="https://static.bitapps.pro/bitform/options-presets.json";P.useEffect(()=>{if(!n)return;let c=localStorage.getItem("bf-options-presets");const i=k({},s);if(c&&(c=JSON.parse(c)),!c||c&&Number(c.version)<x)j(!0),fetch(g).then(t=>t.json()).then(t=>{if(t.data){const{data:v}=t;i.data=m(v),i.presetOpts=y(v),localStorage.setItem("bf-options-presets",JSON.stringify(t)),a(k({},i))}j(!1)});else{const{data:t}=c;i.data=m(t),i.presetOpts=y(t),a(k({},i))}},[]);const m=c=>c.reduce((i,t)=>k(k({},i),t.childs),{}),y=c=>c.map(i=>({title:i.title,type:"group",childs:Object.keys(i.childs).map(t=>({label:t,value:t}))})),C=c=>{var t,v;const i=k({},s);if(i.preset=c,c&&((v=(t=i==null?void 0:i.data)==null?void 0:t[c])!=null&&v.length)){i.headers=Object.keys(i.data[c][0]);const[$]=i.headers;i.lbl=$,i.vlu=$}else delete i.headers,delete i.lbl,delete i.vlu;a(k({},i))},f=c=>{const i=k({},s),{name:t,value:v}=c.target;i[t]=v,a(k({},i))};return e.jsxs("div",{className:"mt-2",children:[o&&e.jsxs("div",{className:"flx mb-2",children:[e.jsx(ve,{size:20,clr:"#022217",className:"mr-1"}),e.jsx("p",{className:"m-0",children:"Presets are loading from server. This process is only for the first time."})]}),e.jsxs("div",{children:[e.jsx("b",{children:"Preset"}),e.jsx(As,{className:"btcd-paper-drpdwn mt-1 w-10",options:s.presetOpts,defaultValue:s.preset,onChange:C,singleSelect:!0,closeOnSelect:!0})]}),s.headers&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Label"}),e.jsxs("select",{"data-testid":"imprt-optns-lbl-slct",name:"lbl",id:"",className:"btcd-paper-inp mt-1",onChange:f,value:s.lbl||"",children:[e.jsx("option",{value:"",children:"Select Label"}),s.headers.map(c=>e.jsx("option",{value:c,children:c},c))]})]}),e.jsxs("div",{className:"w-5",children:[e.jsx("b",{children:"Value"}),e.jsxs("select",{"data-testid":"imprt-optns-val-slct",name:"vlu",id:"",className:"btcd-paper-inp mt-1",onChange:f,value:s.vlu||"",children:[e.jsx("option",{value:"",children:"Select Value"}),s.headers.map(c=>e.jsx("option",{value:c,children:c},c))]})]})]})]})}const Je=s=>typeof s=="string"?s==null?void 0:s.trim():s==null?void 0:s.toString(),Os=(s,a,r)=>{const{data:n,lbl:o,vlu:j}=s;return!n||!o||!j?[]:n.map(g=>({[a]:Je(g[o]),[r]:Je(g[j])}))};function ea({importOpts:s,setImportOpts:a}){var m,y,C,f,c,i,t,v,$,N,_,w;const r=K(se),{isPro:n}=r,[o,j]=P.useState({show:!1});P.useEffect(()=>{if(!n)return;localStorage.removeItem("bf-options-taxanomy");const d=new URL(r.ajaxURL);d.searchParams.append("action","bitforms_get_wp_taxonomy"),d.searchParams.append("_ajax_nonce",r.nonce);const S=fetch(d).then(p=>p.json()).then(p=>{if(p.data){const{allCategoreis:u,taxonomies:V}=p.data,b=k({},s);b.data=u,localStorage.setItem("bf-options-categories",JSON.stringify(u)),localStorage.setItem("bf-options-taxanomy",JSON.stringify(V)),b.taxonomies=Object.values(V),b.headers=Object.keys(b.data[0]);const[T,J]=b.headers;if(b.lbl=J,b.vlu=T,(b==null?void 0:b.fieldObject)===null)b.data=u==null?void 0:u.filter(F=>F.taxonomy==="category"),b.fieldObject={fieldType:"taxanomy_field",filter:{orderBy:"term_id",taxanomy:"category",order:"ASC"},lebel:b.lbl,value:b.vlu,hiddenValue:b==null?void 0:b.vlu,oldOpt:[],isTaxonomy:!1,isHierarchical:!0,type:"terms"};else{const{fieldObject:F}=k({},b),{orderBy:z,order:D,taxanomy:q}=k({},F==null?void 0:F.filter);b.data=u==null?void 0:u.filter(re=>re.taxonomy===q);const W=he(b.data,z,D);b.data=W,b.lbl=F==null?void 0:F.lebel,b.vlu=F==null?void 0:F.hiddenValue,b.fieldObject.isHierarchical=F==null?void 0:F.isHierarchical}return a(k({},b)),"Successfully fetched wordpress terms."}return"terms data not found"});be.promise(S,{success:p=>p,failed:p=>p,loading:Y("Loading Terms...")})},[]);const x=d=>{const S=k({},s);d.target.checked?S.fieldObject.isTaxonomy=!0:S.fieldObject.isTaxonomy=!1,a(k({},S))},g=d=>{var D;const{name:S,value:p}=d.target,u=k({},s);u[S]=p;const{fieldObject:V}=u;V.filter[S]=p;const{orderBy:b,taxanomy:T,order:J}=V.filter;let F=localStorage.getItem("bf-options-categories");const z=JSON.parse(localStorage.getItem("bf-options-taxanomy"));F=he(JSON.parse(F),b,J),u.data=F==null?void 0:F.filter(q=>q.taxonomy===T),u.fieldObject.isHierarchical=(D=z==null?void 0:z.find(q=>q.name===T))==null?void 0:D.hierarchical,u.fieldObject.lebel=u==null?void 0:u.lbl,u.fieldObject.hiddenValue=u==null?void 0:u.vlu,a(k({},u))};return e.jsx("div",{className:"mt-2",children:e.jsxs("div",{children:[e.jsx(pe,{snack:o,setSnackbar:j}),e.jsxs("div",{children:[!!(s!=null&&s.data)&&e.jsxs("div",{className:"w-10 mr-2",children:[e.jsx("b",{children:"Filter by Taxonomy"}),e.jsx("select",{"data-testid":"imprt-optns-txnmy-slct",name:"taxanomy",onChange:g,value:((y=(m=s==null?void 0:s.fieldObject)==null?void 0:m.filter)==null?void 0:y.taxanomy)||"",className:"btcd-paper-inp mt-1",children:(C=s==null?void 0:s.taxonomies)==null?void 0:C.map((d,S)=>e.jsx("option",{value:d==null?void 0:d.name,children:`${d==null?void 0:d.singular_name}-${d==null?void 0:d.name}`},`imp-${S*2}`))})]}),!!((f=s==null?void 0:s.data)!=null&&f.length)&&e.jsxs("div",{children:[e.jsxs("div",{className:"w-5 flx",children:[e.jsx(oe,{"data-testid":"imprt-optns-txnmy-chek",onChange:x,title:Y("Use Post Taxonomy Fields"),checked:((c=s==null?void 0:s.fieldObject)==null?void 0:c.isTaxonomy)===!0,value:!1}),e.jsx(Vs,{width:250,icnSize:17,className:"ml-1",children:e.jsxs("div",{className:"txt-body",children:["if selected then its work also post taxanomy field.",e.jsx("br",{})]})})]}),e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order By"}),e.jsx("select",{"data-testid":"imprt-optns-ordr-by-slct",name:"orderBy",onChange:g,value:((t=(i=s==null?void 0:s.fieldObject)==null?void 0:i.filter)==null?void 0:t.orderBy)||"",className:"btcd-paper-inp mt-1",children:(v=s==null?void 0:s.headers)==null?void 0:v.map(d=>e.jsx("option",{value:d,children:d},d))})]}),e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order"}),e.jsxs("select",{"data-testid":"imprt-optns-ordr-slct",name:"order",onChange:g,value:((N=($=s==null?void 0:s.fieldObject)==null?void 0:$.filter)==null?void 0:N.order)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"ASC",children:"Ascending"}),e.jsx("option",{value:"DESC",children:"Descending"})]})]})]}),s.headers&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Label"}),e.jsxs("select",{"data-testid":"imprt-optns-lbl-slct",name:"lbl",id:"",className:"btcd-paper-inp mt-1",onChange:g,value:((_=s==null?void 0:s.fieldObject)==null?void 0:_.lebel)||"",children:[e.jsx("option",{disabled:!0,children:"Select Label"}),s.headers.map(d=>e.jsx("option",{value:d,children:d},d))]})]}),e.jsxs("div",{className:"w-5",children:[e.jsx("b",{children:"Value"}),e.jsxs("select",{"data-testid":"imprt-optns-val-slct",name:"vlu",id:"",className:"btcd-paper-inp mt-1",onChange:g,value:((w=s==null?void 0:s.fieldObject)==null?void 0:w.hiddenValue)||"",children:[e.jsx("option",{disabled:!0,children:"Select Value"}),s.headers.map(d=>e.jsx("option",{value:d,children:d},d))]})]})]})]})]})]})})}const Me=s=>typeof s=="string"?s==null?void 0:s.trim():s==null?void 0:s.toString(),sa=(s,a,r)=>{const{data:n,lbl:o,vlu:j}=s;return!n||!o||!j?[]:n.map(g=>({[a]:Me(g[o]),[r]:Me(g[j])}))};function aa({importOpts:s,setImportOpts:a}){var g,m,y,C,f,c,i,t,v,$,N,_;const r=K(se),{isPro:n}=r,[o,j]=P.useState({show:!1});P.useEffect(()=>{if(!n)return;const w=new URL(r.ajaxURL);w.searchParams.append("action","bitforms_get_wp_users"),w.searchParams.append("_ajax_nonce",r.nonce);const d=fetch(w).then(S=>S.json()).then(S=>{if(S.data){const{users:p}=S.data,u=k({},s);u.data=p,localStorage.setItem("bf-options-users",JSON.stringify(p)),u.headers=Object.keys(u.data[0]);const[V]=u.headers;if(u.lbl=V,u.vlu=V,(u==null?void 0:u.fieldObject)===null)u.fieldObject={fieldType:"user_field",filter:{orderBy:"ID",role:"all",order:"ASC"},lebel:u.lbl,value:u.vlu,hiddenValue:u==null?void 0:u.vlu,oldOpt:[],type:"user"};else{const{fieldObject:b}=k({},u),{orderBy:T,order:J,role:F}=k({},b==null?void 0:b.filter),z=he(u.data,T,J);F!=="all"?u.data=z==null?void 0:z.filter(D=>D.role[0]===F):u.data=z,u.lbl=b==null?void 0:b.lebel,u.vlu=b==null?void 0:b.hiddenValue}return a(k({},u)),"Successfully fetched users data."}return"users data not found"});be.promise(d,{success:S=>S,failed:S=>S,loading:Y("Loading Users...")})},[]);const x=w=>{const{name:d,value:S}=w.target,p=k({},s);(d==="lbl"||d==="vlu")&&(p[d]=S);const{fieldObject:u}=p;u.filter[d]=S;const{orderBy:V,order:b,role:T}=u.filter;let J=localStorage.getItem("bf-options-users");J=he(JSON.parse(J),V,b),T!=="all"?p.data=J==null?void 0:J.filter(F=>F.role[0]===T):p.data=J,p.fieldObject.lebel=p==null?void 0:p.lbl,p.fieldObject.hiddenValue=p==null?void 0:p.vlu,a(k({},p))};return e.jsx("div",{className:"mt-2",children:e.jsxs("div",{children:[e.jsx(pe,{snack:o,setSnackbar:j}),e.jsxs("div",{children:[!!(s!=null&&s.data)&&e.jsxs("div",{className:"w-10 mr-2",children:[e.jsx("b",{children:"Filter by Role"}),e.jsxs("select",{"data-testid":"imprt-optns-rol-slct",name:"role",onChange:x,value:((m=(g=s==null?void 0:s.fieldObject)==null?void 0:g.filter)==null?void 0:m.role)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{selected:!0,disabled:!0,children:"select role"}),e.jsx("option",{value:"all",children:"all"}),e.jsx("option",{value:"administrator",children:"Administrator"}),e.jsx("option",{value:"author",children:"Author"}),e.jsx("option",{value:"contributor",children:"Contributor"}),e.jsx("option",{value:"editor",children:"Editor"}),e.jsx("option",{value:"subscriber",children:"Subscriber"})]})]}),!!((y=s==null?void 0:s.data)!=null&&y.length)&&e.jsxs("div",{children:[e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order By"}),e.jsx("select",{"data-testid":"imprt-optns-ordr-by-slct",name:"orderBy",onChange:x,value:((f=(C=s==null?void 0:s.fieldObject)==null?void 0:C.filter)==null?void 0:f.orderBy)||"",className:"btcd-paper-inp mt-1",children:(c=s==null?void 0:s.headers)==null?void 0:c.map(w=>e.jsx("option",{value:w,children:w},w))})]}),e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Order"}),e.jsxs("select",{"data-testid":"imprt-optns-ordr-slct",name:"order",onChange:x,value:((t=(i=s==null?void 0:s.fieldObject)==null?void 0:i.filter)==null?void 0:t.order)||"",className:"btcd-paper-inp mt-1",children:[e.jsx("option",{value:"ASC",children:"Ascending"}),e.jsx("option",{value:"DESC",children:"Descending"})]})]})]}),(s==null?void 0:s.headers)&&e.jsxs("div",{className:"flx mt-3 w-10",children:[e.jsxs("div",{className:"w-5 mr-2",children:[e.jsx("b",{children:"Label"}),e.jsxs("select",{"data-testid":"imprt-optns-lbl-slct",name:"lbl",id:"",className:"btcd-paper-inp mt-1",onChange:x,value:((v=s==null?void 0:s.fieldObject)==null?void 0:v.lebel)||"",children:[e.jsx("option",{value:"",children:"Select Label"}),($=s==null?void 0:s.headers)==null?void 0:$.map(w=>e.jsx("option",{value:w,children:w},w))]})]}),e.jsxs("div",{className:"w-5",children:[e.jsx("b",{children:"Value"}),e.jsxs("select",{"data-testid":"imprt-optns-val-slct",name:"vlu",id:"",className:"btcd-paper-inp mt-1",onChange:x,value:((N=s==null?void 0:s.fieldObject)==null?void 0:N.hiddenValue)||"",children:[e.jsx("option",{value:"",children:"Select Value"}),(_=s==null?void 0:s.headers)==null?void 0:_.map(w=>e.jsx("option",{value:w,children:w},w))]})]})]})]})]})]})})}function na({setOptions:s,importOpts:a,setImportOpts:r,lblKey:n,valKey:o,setEditOptionType:j}){const x=K(se),{isPro:g}=x,{css:m}=ue(),{fieldKey:y}=_e(),C=K(Te),f=de(C[y]),c=N=>N.map(_=>ce(k({},_),{[o]:_[o].replace(/,/g,"_")})),i=()=>{if(!g)return[];const{dataSrc:N}=a;return N==="fileupload"?qs(a,n,o):N==="presets"?Xs(a,n,o):N==="user"?sa(a,n,o):N==="terms"?Os(a,n,o):N==="post"?Qs(a,n,o):N==="acf"?Js(a,n,o):[]},t=N=>{const{name:_,value:w}=N.target;let d=k({},a);const{fieldObject:S,disabled:p}=k({},a);_==="dataSrc"&&(d={show:!0}),d.fieldObject=S,d.disabled=p,d[_]=w,r(k({},d))},v=()=>{var S,p;const N=c(i());(a==null?void 0:a.dataSrc)==="user"&&(f.customType=a==null?void 0:a.fieldObject),(a==null?void 0:a.dataSrc)==="terms"&&(f.customType=a==null?void 0:a.fieldObject),(a==null?void 0:a.dataSrc)==="post"&&(f.customType=a==null?void 0:a.fieldObject),(a==null?void 0:a.dataSrc)==="acf"&&(f.customType=a==null?void 0:a.fieldObject),a.type==="merge"?(f.customType&&(f.custom_type.oldOpt=f.opt),f.opt=f.opt.concat(N)):f.opt=N;const _=((S=f==null?void 0:f.customType)==null?void 0:S.type)||"fileupload";let w=null,d=!1;(p=f==null?void 0:f.customType)!=null&&p.type&&(d=!0,w=f==null?void 0:f.customType),s(Ce(f.opt,n)),r({dataSrc:_,fieldObject:w,disabled:d}),j("Visual")},$=i();return e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{children:[e.jsx("b",{children:"Data Source"}),e.jsxs("select",{"data-testid":"imprt-optns-data-src",name:"dataSrc",className:"btcd-paper-inp mt-1",onChange:t,value:a.dataSrc,disabled:a==null?void 0:a.disabled,children:[e.jsx("option",{value:"fileupload",children:"File Upload"}),e.jsx("option",{value:"presets",children:"Presets"}),e.jsx("option",{value:"post",children:"Posts"}),e.jsx("option",{value:"terms",children:"Terms"}),e.jsx("option",{value:"user",children:"Users"}),e.jsx("option",{value:"acf",children:"ACF Field Option"})]})]}),a.dataSrc==="fileupload"&&e.jsx(Ys,{importOpts:a,setImportOpts:r}),a.dataSrc==="presets"&&e.jsx(Ks,{importOpts:a,setImportOpts:r}),a.dataSrc==="post"&&e.jsx(Zs,{importOpts:a,setImportOpts:r}),a.dataSrc==="user"&&e.jsx(aa,{importOpts:a,setImportOpts:r}),a.dataSrc==="terms"&&e.jsx(ea,{importOpts:a,setImportOpts:r}),a.dataSrc==="acf"&&e.jsx(Ms,{importOpts:a,setImportOpts:r}),!!$.length&&e.jsxs("div",{className:"mt-3",children:[e.jsx("b",{children:"Preview:"}),e.jsxs("table",{border:"1",className:"btcd-table txt-center mt-3",children:[e.jsx("thead",{className:"thead",children:e.jsxs("tr",{className:"tr",children:[e.jsx("th",{className:"th",children:"Label"}),e.jsx("th",{className:"th",children:"Value"})]})}),e.jsx("tbody",{className:"tbody",children:$.slice(0,5).map((N,_)=>e.jsxs("tr",{className:"tr",children:[e.jsx("td",{className:"td",children:N[n]}),e.jsx("td",{className:"td",children:N[o]})]},`imp-${_*2}`))}),$.length-5>0&&e.jsx("tfoot",{className:"tfoot",children:e.jsx("tr",{className:"tr",children:e.jsx("td",{className:"td",colSpan:"2",children:`+${$.length-5} more ( Total ${$.length} )`})})})]})]}),(a.dataSrc==="presets"||a.dataSrc==="fileupload")&&e.jsxs("div",{className:"mt-1",children:[e.jsx(oe,{name:"type",onChange:t,radio:!0,title:Y("Replace Previous Options"),value:"replace",checked:a.type!=="merge"}),e.jsx("br",{}),e.jsx(oe,{name:"type",onChange:t,radio:!0,title:Y("Merge with Previous Options"),value:"merge",checked:a.type==="merge"})]}),e.jsxs("button",{"data-testid":"imprt-edt-optns-btn",onClick:v,className:`${m(qe.btn)} blue`,type:"button",disabled:!$.length||!1,children:[e.jsx(Es,{size:"15"})," ",Y("Import & Edit")]})]})}function la({setOptions:s,lblKey:a,valKey:r,setEditOptionType:n,isPro:o}){var i,t;const{fieldKey:j}=_e(),x=K(Te),g=de(x[j]),[m,y]=P.useState({}),C=((i=g==null?void 0:g.customType)==null?void 0:i.type)||"fileupload";let f=null,c=!1;return(t=g==null?void 0:g.customType)!=null&&t.type&&(f=g==null?void 0:g.customType,c=!0),P.useEffect(()=>y({dataSrc:C,fieldObject:f,disabled:c}),[j]),e.jsxs("div",{className:"pos-rel",children:[o&&!Le&&e.jsx("div",{className:"pro-blur flx",style:{width:"100%",height:"100%",top:0,left:0},children:e.jsxs("div",{className:"pro",children:[Y("Available On"),e.jsx("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",Y("Premium")]})})]})}),e.jsx(na,{setOptions:s,importOpts:m,setImportOpts:y,lblKey:a,valKey:r,setEditOptionType:n})]})}function ta({options:s,optionTxt:a,setOptionTxt:r,lblKey:n,valKey:o,imgKey:j,isPro:x}){const{css:g}=ue();P.useEffect(()=>{r(Qe(s,n,o,j))},[s]);const m=y=>{r(y.target.value)};return e.jsxs("div",{className:"pos-rel",children:[x&&!Le&&e.jsx("div",{className:"pro-blur flx",style:{width:"100%",height:"100%",left:0,top:0},children:e.jsxs("div",{className:"pro",children:[Y("Available On"),e.jsx("a",{href:"https://www.bitapps.pro/bit-form",target:"_blank",rel:"noreferrer",children:e.jsxs("span",{className:"txt-pro",children:[" ",Y("Premium")]})})]})}),e.jsx("textarea",{"data-testid":"txt-optns-tab-area",className:g(ca.textarea),onChange:m,value:a})]})}const ca={textarea:{w:"100%",p:5,mt:10,h:200}};function ra({size:s=21}){return e.jsx("svg",{width:s,height:s,viewBox:"0 0 21 21",children:e.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(2 10)",children:[e.jsx("path",{d:"m0 .5c2.53705308 3.66666667 5.37038642 5.5 8.5 5.5 3.1296136 0 5.9629469-1.83333333 8.5-5.5"}),e.jsx("path",{d:"m2.5 3.423-2 2.077"}),e.jsx("path",{d:"m14.5 3.423 2 2.077"}),e.jsx("path",{d:"m10.5 6 1 2.5"}),e.jsx("path",{d:"m6.5 6-1 2.5"})]})})}function ia({iconType:s,setModal:a,optIndx:r,setOption:n,option:o,selected:j="",uploadLbl:x="",unsplash:g=!1}){const{fieldKey:m}=_e(),[y,C]=ze(Te),f=de(y[m]),[c,i]=P.useState({parent:j||"Icons"}),[t,v]=P.useState([]),[$,N]=P.useState(!1),[_,w]=P.useState(!1),[d,S]=P.useState({}),[p,u]=P.useState([]),[V,b]=P.useState(""),[T,J]=P.useState(!1),[F,z]=P.useState(!1),D=x||"Upload Icon",[q,W]=P.useState(10001),[re,ie]=P.useState(!1),[xe,je]=P.useState(),{css:h}=ue(),B="https://raw.githack.com",E=P.useRef();ze(ys);const M="n3pcVfA-CTg4OlOQsM3m6lEWLISyoSbtDqP2CfoukyU",[ae,ha]=P.useState(1),[Oe,ge]=P.useState([]),[ua,es]=P.useState(""),[ss,fa]=P.useState(1),Pe=[{label:"Icons",show:["label"]},{label:D},{label:"Downloaded Icons"}];g&&Pe.push({label:"Unsplash"});const as=[{label:"Font Awesome",value:"t=2_id_fontawesome",id:"font-awesome",status:!1},{label:"Bootstrap",value:"t=2_id_bootstrapicons",id:"bootstrap-icons",status:!1},{label:"Material Design",value:"t=2_id_materialdesign-icons",id:"material-design-icons",status:!1},{label:"Ion",value:"t=2_id_ionicons",id:"ionicons",status:!1},{label:"Octicons",value:"t=2_id_octicons",id:"octicons",status:!1},{label:"CSS.GG",value:"t=2_id_css.gg",id:"css.gg",status:!1},{label:"Feather",value:"t=2_id_feather",id:"feather",status:!1},{label:"Carbon",value:"t=2_id_carbonicons",id:"carbon-icons",status:!1},{label:"Typicons",value:"t=2_id_typicons",id:"typicons",status:!1},{label:"Vscode",value:"t=2_id_vscodecodicons",id:"vscode-codicons",status:!1},{label:"Simple",value:"t=2_id_simpleicons",id:"simple-icons",status:!1}],[O,ns]=P.useState(as||[]),[Ne,Be]=P.useState([]),ye=()=>{if(V)return"nofilter=true";const l=O.find(G=>G.status===!0);let L="";return l&&(L=O.map(G=>G.value).join("&")),L},ls=l=>{J(!0);const L=V!==""?`&t=1_tag_${l}`:"";fetch(`https://icons.bitapps.pro/search?c=0&${ye()}${L}`).then(G=>G.json()).then(G=>{var R;if(G){let H=G.results;O.find(ee=>ee.status)&&(H=H==null?void 0:H.filter(ee=>{var ne;return(ne=O.find(fe=>fe.id===ee.id))==null?void 0:ne.status})),u(H),W(G.total)}(R=E==null?void 0:E.current)==null||R.scrollToTop(0),J(!1)})},ts=ws.useAsyncDebounce(ls,500),cs=({target:{value:l}})=>{b(l),ts(l)},rs=(l,L)=>{L==="parent"?i({parent:l}):L==="child"&&i(G=>ce(k({},G),{child:l}))},is=()=>{if(typeof wp!="undefined"&&wp.media){const l=wp.media({title:"Media",button:{text:"Select picture"},library:{type:"image"},multiple:!1});l.on("select",()=>{const L=l.state().get("selection").first().toJSON(),G=te(o,R=>{R[r].img=L.url});n(G),a(!1)}),l.open()}};P.useEffect(()=>{S({}),v([]),u([]),c.parent==="Icons"&&(N(!0),fetch("https://icons.bitapps.pro/search?c=0&").then(l=>l.json()).then(l=>{l&&(W(l.total),u(l.results)),N(!1)})),c.parent==="Downloaded Icons"&&(N(!0),we({},"bitforms_get_download_icn").then(l=>{l!==void 0&&l.success&&v(l==null?void 0:l.data),N(!1)}))},[c]);const ds=()=>{w(!0),we({id:d.id,src:d.url},"bitforms_icn_save_setting").then(l=>{if(l!==void 0&&l.success){f[s]=l.data;const L=te(o,G=>{G[r].img=l.data});n(L),a(!1)}w(!1),a(!1)})},os=l=>{var G;v(R=>R.filter(H=>H!==l));const L=new RegExp(l,"gi");(G=f[s])!=null&&G.match(L)&&(delete f[s],C(R=>te(R,H=>{H[m]=f}))),we({file:l},"bitforms_icon_remove").then(R=>{R!==void 0&&R.success&&v(R.data)}),be.success("Icon Removed Successfully"),ie(!1)},Ee=l=>{l.target.parentNode.style.display="none"},Ae=l=>{const L=l.target.scrollHeight-l.target.scrollTop-l.target.clientHeight-100,G=V!==""?`&t=1_tag_${V}`:"";L<=0&&p.length<q&&(z(!0),fetch(`https://icons.bitapps.pro/search?c=${p.length}&${ye()}${G}`).then(R=>R.json()).then(R=>{R&&u(p.concat(R.results)),z(!1)}))},hs=(l,L,G)=>{const R=[...O];G===!1?(R[l].value=`t=1_id_${L.replace("t=2_id_","")}`,R[l].status=!0):(R[l].value=`t=2_id_${L.replace("t=1_id_","")}`,R[l].status=!1),ns(R);const H=V!==""?`&t=1_tag_${V}`:"";O.length&&fetch(`https://icons.bitapps.pro/search?c=0&${ye()}${H}`).then(ee=>ee.json()).then(ee=>{if(ee){let ne=ee.results;O.find(fe=>fe.status)&&(ne=ne==null?void 0:ne.filter(fe=>{var Ie;return(Ie=O.find(bs=>bs.id===fe.id))==null?void 0:Ie.status})),u(ne),W(ee.total)}})},Ve=()=>{const l=te(o,L=>{L[r].img=d.url});n(l),a(!1)},Fe=(l,L)=>{S({id:l,url:L})};P.useEffect(()=>{es(""),v([]),ge([]),N(!0),fetch(`https://api.unsplash.com/photos/?client_id=${M}&per_page=30&page=${ae}`).then(l=>l.json()).then(l=>{l&&(W(l.length),ge(l)),N(!1)}),fetch(`https://api.unsplash.com/collections/?client_id=${M}&page=${ss}`).then(l=>l.json()).then(l=>{l&&Be(l),N(!1)})},[]);const us=(l,L,G)=>{const R=[...Ne];R.map(H=>{H.status=!1}),G?R[l].status=!1:R[l].status=!0,Be(R),Ne.length&&!G?fetch(`https://api.unsplash.com/collections/${L}/photos?client_id=${M}&per_page=30`).then(H=>H.json()).then(H=>{H&&(ge(H),W(H.length))}):fetch(`https://api.unsplash.com/photos/?client_id=${M}&per_page=30&page=${ae}`).then(H=>H.json()).then(H=>{H&&(ge(H),W(H.length))})},fs=l=>{S({id:l.id,url:item.urls.regular})};return e.jsxs("div",{children:[e.jsx(Ye,{options:Pe,onChange:l=>rs(l,"parent"),defaultActive:c.parent,defaultItmWidth:220,wideTab:!0,className:h(A.mt1)}),e.jsxs(me,{open:c.parent==="Icons",children:[e.jsx("div",{className:h(A.mt2,A.flxc,{flxp:1,jc:"center"}),children:O.map((l,L)=>e.jsx("button",{"data-testid":"icn-pck-btn",title:l.label,onClick:()=>hs(L,l.value,l.status),type:"button",className:`${h(I.chip,A.mr2)} ${l.status&&h(I.active)}`,children:l.label},l.label))}),e.jsxs("div",{className:h(A.flxc,I.searchBar,A.mt2,A.mb2),children:[e.jsxs("div",{className:h(I.fields_search),children:[e.jsx("input",{"data-testid":"icns-mdl-srch-inp",title:"Search Icons","aria-label":"Search Icons",placeholder:"Search in 10,000+ icons by keywords one at a time. e.g., user or login or etc...",id:"search-icon",type:"search",name:"searchIcn",value:V,onChange:cs,className:h(I.search_field)}),e.jsx("span",{title:"search",className:h(I.search_icn),children:e.jsx(Gs,{size:"20"})})]}),e.jsx("div",{children:T&&e.jsx(ve,{size:20,clr:"#13132b"})})]}),e.jsxs(Se,{ref:E,style:{minHeight:350},onScroll:Ae,children:[$&&e.jsxs("div",{title:"Loading...",children:[e.jsx("div",{className:h(A.mt2)}),Array(26).fill(1).map((l,L)=>e.jsx("div",{title:"Loading...",className:`${h(I.loadingPlaceholder)} loader`},`loading-${L*2}`))]}),e.jsx("div",{className:h(A.flxc,A.mt2,I.icon),children:p.map(l=>e.jsx("button",{"data-testid":`inc-prv-btn-${l.name}`,type:"button",title:`${l.name} (${l.id})`,className:`${h(I.icnBtn)} ${B+l.url===d.url&&h(I.active,I.activeIcn)}`,onClick:()=>Fe(l.id,B+l.url),children:e.jsx("img",{src:`${B}${l.url}`,onError:Ee,alt:l.name,className:h(I.img)})},`${l.name} (${l.id})`))}),F&&e.jsxs("div",{title:"Loading...",children:[e.jsx("div",{className:h(A.mt2)}),Array(26).fill(1).map((l,L)=>e.jsx("div",{title:"Loading...",className:`${h(I.loadingPlaceholder)} loader`},`loading-2--${L*2}`))]})]}),e.jsxs("button",{"data-testid":"icn-dwnld-n-sav",type:"button",disabled:!d.url,className:h(I.saveBtn,I.btnPosition),onClick:ds,children:[e.jsx("span",{className:h(A.mr1),children:e.jsx(Ss,{size:"19"})}),"Download & save",_&&e.jsx(ve,{size:20,clr:"#fff",className:A.ml2})]})]}),e.jsx(me,{open:c.parent==="Unsplash",children:e.jsxs("div",{children:[e.jsx("div",{className:h(A.mt2,A.flxc,{flxp:1,jc:"center"}),children:Ne.map((l,L)=>e.jsx("button",{"data-testid":"icn-pck-btn",title:l.title,onClick:()=>us(L,l.id,l.status),type:"button",className:`${h(I.chip,A.mr2)} ${l.status&&h(I.active)}`,children:l.title},l.title))}),e.jsxs(Se,{ref:E,style:{minHeight:350},onScroll:Ae,children:[$&&e.jsxs("div",{title:"Loading...",children:[e.jsx("div",{className:h(A.mt2)}),Array(26).fill(1).map((l,L)=>e.jsx("div",{title:"Loading...",className:`${h(I.loadingPlaceholder)} loader`},`loderfnt-${L*2}`))]}),e.jsx("div",{className:h(A.mt2,I.imgWrp),children:Oe.map(l=>e.jsx("button",{type:"button",title:`(${l.description})`,className:`${h(I.imageBtn)} ${l.urls.regular===d.url&&h(I.activeImg)}`,onClick:()=>fs(l),children:e.jsx("img",{src:`${l.urls.thumb}`,onError:Ee,alt:l.id,className:h(I.imgH)})},`(${l.id})`))}),F&&e.jsxs("div",{title:"Loading...",children:[e.jsx("div",{className:h(A.mt2)}),Array(26).fill(1).map((l,L)=>e.jsx("div",{title:"Loading...",className:`${h(I.loadingPlaceholder)} loader`},`loderfnt--${L*2}`))]})]}),e.jsxs("button",{"data-testid":"icn-dwnld-n-sav",type:"button",disabled:!d.url,className:h(I.saveBtn,I.btnPosition),onClick:Ve,children:[e.jsx("span",{className:h(A.mr1,{dy:"flex"}),children:e.jsx(Ds,{size:"20"})}),"Save",_&&e.jsx(ve,{size:20,clr:"#fff",className:A.ml2})]})]})}),e.jsx(me,{open:c.parent===D,children:e.jsxs("button",{type:"button",className:h(I.upBtn),onClick:is,children:[e.jsx(ks,{w:"35"})," ","Browse"]})}),e.jsxs(me,{open:c.parent==="Downloaded Icons",children:[$&&e.jsx("div",{className:h({h:300}),children:e.jsx("div",{title:"Loading...",className:h({flxp:"wrap",jc:"center",flx:1}),children:Array(22).fill(1).map((l,L)=>e.jsx("div",{title:"Loading...",className:`${h(I.loadingPlaceholder)} loader`},`loading-3-${L*2}`))})}),!$&&e.jsx(Se,{ref:E,style:{minHeight:"300px"},children:e.jsx("div",{className:h(A.flxc,A.mt4,I.icon),children:!!t.length&&t.map((l,L)=>e.jsxs("div",{className:`${h(A.flxc,A.mt2,I.downloadedBtnWrapper)}`,"data-file":l,style:{display:"inline-block"},children:[e.jsx("button",{"data-testid":`dwnlodd-inc-del-btn-${L}`,type:"button",className:`${h(I.delBtn)} trash`,title:"Delete",onClick:()=>{ie(!0),je(l)},children:e.jsx(Xe,{size:10})}),e.jsx("button",{"data-testid":`dwnlodd-inc-prv-btn-${L}`,onClick:()=>Fe(l.id,`${bits.iconURL}/${l}`),type:"button",title:l.name,className:`${h(I.icnBtn)} ${`${bits.iconURL}/${l}`===d.url&&h(I.active)}`,children:e.jsx("img",{src:`${bits.iconURL}/${l}`,alt:`icon-${l}`,width:"40",height:"30"})},`download-icn-${L+Math.random()*5}`)]},`download-icn-${L*2}`))})}),e.jsx("button",{"data-testid":"icn-sav-btn",type:"button",disabled:!d.url,className:h(qe.btn,I.saveBtn),onClick:Ve,children:"Save"})]}),e.jsx($s,{title:"Warning",action:()=>os(xe),show:re,body:"Are you sure you want to delete this icon? This icon will not be available in the forms where it has been used.",btnTxt:"Okay",close:()=>ie(!1)})]})}const I={scrollBar:{scrollBehavior:"auto !important","& *":{scrollBehavior:"auto !important"}},loadingPlaceholder:{w:40,h:40,brs:8,lh:2,my:3,mx:5,dy:"inline-block"},downloadedBtnWrapper:{pn:"relative",dy:"inline-block","&:hover > .trash":{flx:"align-center"}},delBtn:{pn:"absolute",bd:"#ffa1a1",b:"none",brs:20,h:20,dy:"none",w:20,curp:1,rt:-3,tp:-3,":hover":{bd:"#ff7d7d"}},icon:{dy:"inline-block"},chip:{bd:"var(--b-100-48-1)",b:"none",brs:50,p:"6px 16px",cr:"var(--b-37-18)",m:"0px 7px 6px 0px",curp:1,tn:"background .3s",":hover":{bd:"var(--b-90)"}},active:{bd:"var(--b-50) !important",cr:"var(--white-100) !important"},activeIcn:{fr:"invert(100%) sepia(0%) saturate(6403%) hue-rotate(223deg) brightness(126%) contrast(109%)"},icnBtn:{p:"4px",mnw:45,h:45,dy:"inline-grid",placeContent:"center",bd:"transparent",b:"none",brs:8,curp:1,":hover":{bd:"var(--white-0-95)"}},img:{h:25},imgH:{brs:8,h:200},searchBar:{pn:"relative",zx:99},btnColor:{cr:"var(--b-50)"},fields_search:{pn:"relative",ml:7,mr:5,tn:"width .2s",w:"100%"},upBtn:{b:"1px solid var(--b-38-89)",w:"80%",bd:"var(--b-36-96)",fs:20,mx:"auto",h:100,flx:"center",fd:"column",brs:20,mt:10,cr:"var(--b-54-31)",curp:1,":hover":{bd:"var(--b-50-95)"},":focus-visible":{focusShadow:1}},search_icn:{pn:"absolute",tp:"50%",mx:9,lt:0,tm:"translateY(-50%)",cr:"var(--white-0-75)",curp:1,"& svg":{dy:"block"}},search_field:{w:"100%",fw:500,fs:"14px !important",oe:"none",b:"1px solid var(--white-0-75) !important",brs:"20px !important",pl:"35px !important",pr:"5px !important",pb:"5px !important",pt:"5px !important",":focus":{bs:"0px 0px 0px 1.5px var(--b-50) !important",bcr:"var(--b-92-62) !important",pr:"0px !important","& ~ .shortcut":{dy:"none"},"& ~ span svg":{cr:"var(--b-50)"}},"::placeholder":{fs:12},"::-webkit-search-cancel-button":{appearance:"none",w:14,h:14,mr:10,bd:"var(--white-0-83)",curp:1,backgroundPosition:"54% 50% !important",bi:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 24 24' fill='none' stroke='Black' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='18' y1='6' x2='6' y2='18'%3E%3C/line%3E%3Cline x1='6' y1='6' x2='18' y2='18'%3E%3C/line%3E%3C/svg%3E")`,brs:20}},saveBtn:{b:"none",bd:"var(--b-50)",brs:8,fw:500,p:"5px 10px",cr:"var(--white-100)",flxc:1,flx:"center",mt:5,ml:"auto",mr:5,curp:1,tn:"background .3s",":hover:not(:disabled)":{bd:"var(--b-36)"},":disabled":{bd:"var(--b-13-88)",cr:"var(--b-16-35)",cur:"not-allowed"}},imageBtn:{p:0,mxh:200,dy:"block",bd:"none",b:"none",m:5,brs:8,curp:1,":hover":{oe:"4px solid var(--blue)"}},imgWrp:{dy:"flex",flxp:"wrap",jc:"center",w:"100%"},activeImg:{oe:"4px solid var(--blue)"}},da=({value:s,optIndx:a,type:r,option:n,setOption:o,lblKey:j,valKey:x,imgKey:g,setScrolIndex:m,isRating:y,optKey:C,checkByDefault:f,showUpload:c=!1,hideNDisabledOptions:i})=>{var q,W,re,ie,xe,je;const{css:t}=ue(),[v,$]=P.useState(!1);K(se);const N="type"in s&&s.type.includes("group")&&s.type.includes("start"),_="type"in s&&s.type.includes("group")&&s.type.includes("end"),w=()=>{if(N||_)return!1;for(let h=a-1;h>=0;h-=1){const B=n[h];if("type"in B&&B.type.includes("end"))return!1;if("type"in B&&B.type.includes("start"))return!0}return!1},d=()=>{const{img:h}=n[0],B=te(n,E=>{const M=Q(C),ae=y?{id:M,[j]:`Option ${M}`,[x]:M,[g]:h}:{id:M,[j]:`Option ${M}`};E.splice(a+1,0,ae)});o(B),m(a+1)},S=(h,B,E)=>{const M=te(n,ae=>{ae[B][E]=h.target.value});o(M),m(a)},p=(h,B)=>{const E=te(n,M=>{if(n[h][B]){delete M[h][B];return}M[h][B]=!0});o(E),m(a)},u=h=>{const B=te(n,E=>{E[a].groupLbl=h.target.value});o(B),m(a)},V=h=>{if(N)return b();const B=[...n];B.splice(h,1),o(B),m(a-1)},b=()=>{const h=[...n];let B=0;for(let E=a;E<h.length;E+=1){if("type"in h[E]&&h[E].type.includes("end")){B+=1;break}B+=1}h.splice(a,B),o(h),m(a-1)},T=()=>{if(N)return J();const h=[...n],B={[j]:`Copy of ${s[j]}`,[x]:s[x]?`Copy of ${s[x]}`:"",id:Q(C)};h.splice(a+1,0,B),o(h),m(a+1)},J=()=>{const h=[...n],B=[ce(k({},h[a]),{id:Q(C),groupLbl:`Copy of ${h[a].groupLbl}`})];for(let E=a+1;E<h.length;E+=1){if("type"in h[E]&&h[E].type.includes("end")){B.push(ce(k({},h[E]),{id:Q(C)}));break}const M={id:Q(C),[j]:`Copy of ${h[E][j]}`,[x]:h[E][x]?`Copy of ${s[x]}`:""};B.push(M)}h.splice(a+B.length,0,...B),o(h),m(a+B.length*2-1)};function F(h,B){const E=de([...n]);h.target.checked?E[B].req=!0:delete E[B].req,o(E),m(a)}function z(h,B){const E=de([...n]);h.target.checked?E[B].disabled=!0:delete E[B].disabled,o(E),m(a)}function D(h,B){const E=de([...n]);if(r==="radio"||r==="rating"){const M=E.find(ae=>ae.check);M&&delete M.check}h.target.checked?E[B].check=!0:delete E[B].check,o(E),m(a)}return e.jsxs("div",{"data-testid":`sortable-itm-wrp-${a}`,className:t(U.container,(((q=n[a])==null?void 0:q.disabled)||((W=n[a])==null?void 0:W.hide))&&U.disabled,N?U.groupStart:"",w()?U.groupChild:"",_?U.groupend:""),children:[!_&&e.jsxs("div",{className:t(U.inputContainer),children:[e.jsx("div",{className:"flx",children:e.jsx(Us,{className:t(U.drag)})}),N&&e.jsxs("div",{children:[e.jsx("span",{className:t(A.flxc,A.ml2,A.mr2,U.groupTitle),children:"Group Title"}),e.jsx("input",{type:"text",className:t(U.groupTitleInput),onChange:u,value:s.groupLbl})]}),_&&e.jsx("span",{className:t(A.flxc,A.ml2),style:{height:40},children:`Group ${s.type.split("-")[1]} End`}),!("type"in s)&&e.jsxs(e.Fragment,{children:[c&&e.jsxs("div",{className:t(A.flxc,A.ml2),children:[e.jsx("img",{className:t(U.img),src:(s==null?void 0:s.img)||"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'/>",alt:s==null?void 0:s.img}),e.jsx("button",{className:t(A.m10,U.imgAddBtn),type:"button",onClick:()=>$(!0),children:e.jsx(Cs,{size:"20"})})]}),e.jsx("input",{type:"text",value:s[j],onChange:h=>S(h,a,j),width:140,className:t(U.input)}),e.jsx("input",{type:"text",value:s[x],onChange:h=>S(h,a,x),placeholder:s[j],width:140,className:t(U.input)})]}),e.jsx("div",{className:t(A.flxc),children:e.jsxs(ke,{interactive:!1,children:[!N&&f&&e.jsx(le,{msg:"Check by Default",children:e.jsx(oe,{className:t({se:35,mx:7.5}),checked:s.check!==void 0,onChange:h=>D(h,a)})}),r==="check"&&e.jsx(le,{msg:"Required",children:e.jsx(oe,{checked:s.req!==void 0,className:t({se:35,mx:7.5}),onChange:h=>F(h,a)})}),(r==="check"||r==="radio")&&r!=="rating"&&e.jsx(le,{msg:"Disabled",children:e.jsx(oe,{checked:s.disabled!==void 0,className:t({se:35,mx:7.5}),onChange:h=>z(h,a)})})]})}),e.jsx("div",{className:`${t(U.action)} acc ${N&&"group-acc"} ${s.req&&"active"}`,children:e.jsxs("div",{className:`${t(A.dyn)} btnIcn`,children:[!i&&e.jsxs(ke,{interactive:!1,children:[e.jsx(le,{whiteSpaceNowrap:!0,className:t({dy:"inline-block"}),msg:`Add Option ${N?"in Group":""}`,children:e.jsx("button",{"data-testid":`srtble-itm-add-optn-grp-${a}`,type:"button",onClick:()=>d(),className:t(U.btn,A.flxc),children:e.jsx("span",{className:t(U.addbtnside),children:e.jsx(Xe,{size:"12",stroke:"4"})})})}),e.jsx(le,{msg:`Clone ${N?"Group":"Option"}`,children:e.jsx("button",{"data-testid":`srtble-itm-add-optn-cln-grp-${a}`,type:"button",onClick:()=>T(),className:t(U.btn),children:e.jsx(_s,{size:"18",stroke:"2.5"})})}),e.jsx(le,{msg:`Delete ${N?"Group":"Option"}`,children:e.jsx("button",{"data-testid":`srtble-itm-add-optn-dlt-grp-${a}`,type:"button",onClick:()=>V(a),className:t(U.btn),children:e.jsx(Ts,{size:"18",stroke:"2"})})})]}),i&&e.jsxs(ke,{interactive:!1,children:[e.jsx(le,{whiteSpaceNowrap:!0,className:t({dy:"inline-block"}),msg:`Option ${(re=n[a])!=null&&re.hide?"Hide":"Show"}`,children:e.jsx("button",{"data-testid":`srtble-itm-add-optn-grp-${a}`,type:"button",onClick:()=>p(a,"hide"),className:t(U.btn,A.flxc),children:(ie=n[a])!=null&&ie.hide?e.jsx(Ls,{size:"18"}):e.jsx(Rs,{size:"18"})})}),e.jsx(le,{msg:`Field ${(xe=n[a])!=null&&xe.disabled?"Enabled":"Disabled"}`,children:e.jsx("button",{"data-testid":`srtble-itm-add-optn-dlt-grp-${a}`,type:"button",onClick:()=>p(a,"disabled"),className:t(U.btn),children:(je=n[a])!=null&&je.disabled?e.jsx(ra,{size:"20"}):e.jsx(zs,{size:"15"})})})]})]})})]}),e.jsx(Ps,{md:!0,autoHeight:!0,show:v,setModal:()=>$(!1),className:"o-v ",title:Y("Icons"),children:e.jsx(ia,{setModal:$,setOption:o,option:n,optIndx:a,unsplash:!0})})]})};function We({optKey:s,options:a,option:r,setOption:n,type:o,isRating:j,lblKey:x,valKey:g,imgKey:m,checkByDefault:y,hasGroup:C,showUpload:f,hideNDisabledOptions:c}){const{css:i}=ue(),[t,v]=P.useState(0);P.useEffect(()=>{n($e(a,s))},[a]),K(se);const $=()=>{const{img:w}=r[0],d=[...r],S=Q(s),p=j?{id:S,[x]:`Option ${S}`,[g]:S,[m]:w}:{id:S,[x]:`Option ${S}`},u=d.push(p);v(u-1),n(d)},N=()=>{const w=[...r],d=w.filter(u=>{var V,b;return(b=(V=u==null?void 0:u.type)==null?void 0:V.includes)==null?void 0:b.call(V,"start")})||[],S=Q(s),p=w.push({id:Q(s),groupLbl:`Group ${d.length+1}`,type:`group-${d.length+1}-start`},{id:S,[x]:`Option ${S}`},{id:Q(s),type:`group-${d.length+1}-end`});n(w),v(p-1)},_=({oldIndex:w,newIndex:d})=>{const S=r[w],p=Ge(r,w,d);if("type"in S){const[,u,V]=S.type.split("-");if(V==="end"){let b=0;for(let T=d-1;T>=0;T-=1)if("type"in p[T]&&p[T].type.includes("start")){if(p[T].type===`group-${u}-start`){b=1;break}if(p[T].type!==`group-${u}-start`)return}if(!b)return}else if(V==="start"){let b=0;for(let T=d+1;T<p.length;T+=1)if("type"in p[T]&&p[T].type.includes("end")){if(p[T].type===`group-${u}-end`){b=1;break}if(p[T].type!==`group-${u}-end`)return}if(!b)return}}n(u=>Ge(u,w,d)),v(d)};return e.jsxs(e.Fragment,{children:[e.jsxs(Fs,{onSortEnd:_,useDragHandle:!0,children:[e.jsxs("div",{className:i(U.labelWapper),children:[e.jsx("span",{className:i(U.propLabel),children:"Label"}),e.jsx("span",{className:i(U.propLabel,{ml:10}),children:"Value"}),e.jsxs("div",{className:i({flxi:"align-center",ml:5}),children:[y&&e.jsx("span",{className:i(U.propLabel,{ml:10}),children:"Check"}),o==="check"&&e.jsx("span",{className:i(U.checkLabel),children:"Require"}),(o==="check"||o==="radio")&&e.jsx("span",{className:i(U.checkLabel),children:"Disable"})]})]}),e.jsx("div",{className:i(U.scroll),children:r.map((w,d)=>e.jsx(Is,{index:d,children:e.jsx(da,{optIndx:d,value:r[d],type:o,option:r,setOption:n,lblKey:x,valKey:g,setScrolIndex:v,optKey:s,checkByDefault:y,showUpload:f,hideNDisabledOptions:c,imgKey:m,isRating:j})},`sortable-${r[d].id}`))})]}),e.jsxs("div",{className:`flx ${i({ml:11,mt:7})}`,children:[e.jsxs(De,{size:"sm",dataTestId:"add-mor-opt-btn",id:"add-more",className:i(U.add_btn),onClick:()=>$(),gap:"3px",children:[Y("Add More"),e.jsx(He,{size:"18",stroke:"2"})]}),C&&e.jsxs(De,{size:"sm",dataTestId:"add-mor-grp-btn",id:"add-grp",className:i(U.add_btn),onClick:N,gap:"3px",children:[Y("Add Group"),e.jsx(He,{size:"18",stroke:"2"})]})]})]})}const U={labelWapper:{p:"5px 30px 0px",fs:14,fw:500},propLabel:{dy:"inline-block",ta:"center",w:200},checkLabel:{dy:"inline-block",ta:"center",w:50,ow:"hidden",to:"ellipsis"},disabled:{bd:"hsla(0, 11%, 93%, 100%)"},list:{width:"100%",height:300},container:{flx:"",":hover .acc":{flx:"align-center"},":hover .acc > div":{flx:"align-center"},":hover .acc.group-acc":{flx:"",ai:"flex-end",pb:0}},groupStart:{pt:7,pb:5,bc:"var(--white-0-93)"},groupChild:{pl:25,bc:"var(--white-0-93)"},groupend:{h:20,bc:"var(--white-0-93)"},groupTitle:{fs:10},inputContainer:{flx:"",mnw:560},img:{w:25,h:17,brs:3,bd:"hsla(0, 0%, 0%, 5%)",b:"1px solid rgba(0, 0, 0, 0.05)"},imgAddBtn:{se:25,flx:"center",b:"none",p:3,mr:1,tn:".2s all",curp:1,brs:"50%",bd:"none",":hover":{bd:"var(--b-20-93)",cr:"var(--blue)"}},groupTitleInput:{bc:"transparent !important",b:"0px !important",oe:0,mt:5,":hover":{bc:"var(--white-0-0-12) !important"},":focus":{b:"1px solid #ddd",bc:"var(--white-0-0-12) !important",bs:"none !important"}},input:{p:5,m:5,b:"1px solid rgb(215 215 215)",brs:"8px !important",fs:12,w:200,oe:"none",":focus":{bcr:"var(--blue)",bs:"0 0 0 1px var(--blue)"}},label:{w:175,dy:"inline-block"},btn:{flx:"center",brs:7,curp:1,b:"none",p:0,bd:"none",ml:5,se:35,":hover":{bd:"var(--b-97)",cr:"var(--blue)"}},addbtnside:{dy:"inline-block",tm:"rotate(45deg)"},add_btn:{ml:19,p:5},drag:{cr:"var(--white-0-13)",dy:"inline-block",w:25,h:25,p:5,cur:"move",":hover":{cr:"var(--white-0-0-12)"}},List:{b:"1px solid #d9dddd"},ListItemOdd:{flx:"jc"},ListItemEven:{bc:"#f8f8f0"},action:{pn:"relative",flx:"center","&.active":{flx:"align-center"},"&:hover":{flx:"align-center","& .btnIcn":{flx:"center"}}},actionWrp:{flx:"center"},scroll:{mxh:300,owy:"scroll"}};function Ta({optionMdl:s,options:a,setOptions:r,type:n,lblKey:o,valKey:j,imgKey:x,isPro:g,isRating:m,checkByDefault:y=!0,hasGroup:C,showUpload:f=!1,onlyVisualOptionsTab:c=!1,hideNDisabledOptions:i=!1}){const t=P.useRef(1),{css:v}=ue(),[$,N]=P.useState("Visual"),[_,w]=P.useState(""),[d,S]=P.useState(()=>$e(a,t)||[]),[p,u]=P.useState(()=>Qe($e(a,t),o,j,x));P.useEffect(()=>{if(_||!s){const b=_||$;b==="Visual"&&r(Ce(d,o)),b==="Text"&&r(Ce(Hs(p,t,o,j),o)),w("")}},[_,s]);const V=b=>{N(T=>(w(T),b))};return e.jsxs("div",{className:v(oa.wrapper),children:[g&&!Le&&e.jsx(Bs,{}),c?e.jsx(We,{optKey:t,options:a,option:d,setOption:S,type:n,lblKey:o,valKey:j,imgKey:x,checkByDefault:y,isRating:m,hasGroup:C,showUpload:f,hideNDisabledOptions:i}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{options:[{label:"Visual"},{label:"Text"},{label:"Import"}],onChange:b=>V(b),defaultActive:$,wideTab:!0}),$==="Visual"&&e.jsx(We,{optKey:t,options:a,option:d,setOption:S,type:n,lblKey:o,valKey:j,imgKey:x,checkByDefault:y,hasGroup:C,isRating:m,showUpload:f,hideNDisabledOptions:i}),$==="Text"&&e.jsx(ta,{options:a,optionTxt:p,setOptionTxt:u,lblKey:o,valKey:j,imgKey:x,isPro:!0}),$==="Import"&&e.jsx(la,{setOptions:r,lblKey:o,valKey:j,setEditOptionType:N,isPro:!0})]})]})}const oa={wrapper:{scrollBehavior:"auto !important",mt:10,"& *":{scrollBehavior:"auto !important"}}};export{Ta as E};
