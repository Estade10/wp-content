var w=Object.defineProperty;var u=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var x=(s,t,e)=>t in s?w(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,g=(s,t)=>{for(var e in t||(t={}))y.call(t,e)&&x(s,e,t[e]);if(u)for(var e of u(t))M.call(t,e)&&x(s,e,t[e]);return s};import{p as R,o as b,r,j as a,S as Z,_}from"./main-281.js";/* empty css          */import{S as k}from"./bf-874-123.js";import{s as N,b as P}from"./bf-814-70.js";import{I as F}from"./bf-683-305.js";import{N as z}from"./bf-988-374.js";import E from"./bf-659-236.js";import{h as L,c as A}from"./bf-586-315.js";import{Z as T}from"./bf-976-316.js";import"./bf-310-72.js";import"./bf-185-296.js";import"./bf-646-73.js";import"./bf-751-65.js";import"./bf-80-373.js";import"./bf-329-68.js";import"./bf-607-113.js";import"./bf-845-71.js";import"./bf-976-308.js";import"./bf-977-119.js";import"./bf-44-116.js";function it({formFields:s,setIntegration:t,integrations:e,allIntegURL:S}){const j=R(),{formID:m}=b(),[c,p]=r.useState(!1),[n,f]=r.useState(1),[C,i]=r.useState({show:!1}),[h,v]=r.useState(0),[o,l]=r.useState({name:"Zoho CRM API",type:"Zoho CRM",clientId:"",clientSecret:"",module:"",layout:"",field_map:[{formField:"",zohoFormField:""}],relatedlists:[],actions:{}});r.useEffect(()=>{window.opener&&N("zohoCRM")},[]);const I=d=>{if(!A(o)){i({show:!0,msg:_("Please map mandatory fields")});return}o.module&&o.layout&&o.field_map.length>0&&f(d)};return a.jsxs("div",{children:[a.jsx(Z,{snack:C,setSnackbar:i}),a.jsx("div",{className:"txt-center w-9 mt-2 cal-width",children:a.jsx(k,{step:3,active:n})}),a.jsx(E,{formID:m,crmConf:o,setCrmConf:l,step:n,setstep:f,isLoading:c,setisLoading:p,setSnackbar:i}),a.jsxs("div",{className:"btcd-stp-page",style:g({},n===2&&{width:900,height:"100%",overflow:"visible"}),children:[a.jsx(T,{tab:h,settab:v,formID:m,formFields:s,handleInput:d=>L(d,h,o,l,m,p,i),crmConf:o,setCrmConf:l,isLoading:c,setisLoading:p,setSnackbar:i}),a.jsx(z,{nextPageHandler:()=>I(3),disabled:o.module===""||o.layout===""||o.field_map.length<1})]}),a.jsx(F,{step:n,saveConfig:()=>P(e,t,S,o,j)})]})}export{it as default};
