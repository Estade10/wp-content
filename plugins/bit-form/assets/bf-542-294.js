var _=Object.defineProperty;var j=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var L=(s,t,e)=>t in s?_(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,S=(s,t)=>{for(var e in t||(t={}))I.call(t,e)&&L(s,e,t[e]);if(j)for(var e of j(t))b.call(t,e)&&L(s,e,t[e]);return s};import{p as k,r as m,j as i,S as C,d}from"./main-281.js";/* empty css          */import{S as F}from"./bf-874-123.js";import{b as N}from"./bf-814-70.js";import{I as w}from"./bf-683-305.js";import{N as P}from"./bf-988-374.js";import E from"./bf-875-250.js";import{h as T,c as q}from"./bf-755-369.js";import{M as z}from"./bf-583-370.js";import"./bf-310-72.js";import"./bf-185-296.js";import"./bf-646-73.js";import"./bf-751-65.js";import"./bf-970-375.js";import"./bf-80-373.js";import"./bf-323-173.js";import"./bf-607-113.js";import"./bf-44-116.js";import"./bf-977-119.js";function it({formFields:s,setIntegration:t,integrations:e,allIntegURL:f}){const u=k(),[g,p]=m.useState(!1),[a,h]=m.useState(1),[v,l]=m.useState({show:!1}),[r,c]=m.useState({name:"MailerLite",type:"MailerLite",auth_token:"",field_map:[{formField:"",mailerLiteFormField:"email"}],mailer_lite_type:"",mailerLiteFields:[],groups:[],group_ids:[],actions:{}}),M=()=>{p(!0),N(e,t,f,r,u,"","").then(n=>{var x;n.success?(d.success((x=n.data)==null?void 0:x.msg),u(f)):d.error(n.data||n)})},y=o=>{if(!q(r)){d.error("Please map mandatory fields");return}r.field_map.length>0&&h(o),document.querySelector(".btcd-s-wrp").scrollTop=0};return i.jsxs("div",{children:[i.jsx(C,{snack:v,setSnackbar:l}),i.jsx("div",{className:"txt-center mt-2",children:i.jsx(F,{step:3,active:a})}),i.jsx(E,{mailerLiteConf:r,setMailerLiteConf:c,step:a,setstep:h,isLoading:g,setIsLoading:p,setSnackbar:l}),i.jsxs("div",{className:"btcd-stp-page",style:S({},a===2&&{width:900,height:"auto",overintegrations:"visible"}),children:[i.jsx(z,{formFields:s,handleInput:o=>T(o,r,c),mailerLiteConf:r,setMailerLiteConf:c,isLoading:g,setIsLoading:p,setSnackbar:l}),i.jsx(P,{nextPageHandler:()=>y(3)})]}),i.jsx(w,{step:a,saveConfig:()=>M()})]})}export{it as default};
